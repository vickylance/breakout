(function () {var e={},v=!0;e.__esModule=v;var O=function(){function t(t){this.position={x:10,y:10},this.speed={x:80,y:80},this.game=t,this.sprite=this.game.spritesheets.main.getImage("ball"),this.height=this.sprite.height,this.width=this.sprite.width,this.scale=1}return t.prototype.update=function(t){this.position.x+=this.speed.x/t,this.position.y+=this.speed.y/t,(this.position.x+this.width>this.game.width||this.position.x<0)&&(this.speed.x=-this.speed.x),(this.position.y+this.height>this.game.height||this.position.y<0)&&(this.speed.y=-this.speed.y)},t.prototype.draw=function(t){var i=this.game.spritesheets.main;t.drawImage(i.image,this.sprite.x,this.sprite.y,this.sprite.width,this.sprite.height,this.position.x,this.position.y,this.width*this.scale,this.height*this.scale)},t}(),I=O;e.default=I;var f={},H=!0;f.__esModule=H;var G=function(){return function($,e){this.x=$,this.y=e}}(),A=G;f.default=A;var c={},t=c&&c.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},s=!0;c.__esModule=s;var o=t(f),n=function(){function t(t){this.maxSpeed=100,this.currentSpeed=0,this.game=t,this.sprite=this.game.spritesheets.main.getImage("paddle"),this.height=this.sprite.height,this.width=this.sprite.width,this.position=new o.default(this.game.width/2-this.width/2,this.game.height-this.height-10)}return t.prototype.draw=function(t){var e=this.game.spritesheets.main;t.drawImage(e.image,this.sprite.x,this.sprite.y,this.sprite.width,this.sprite.height,this.position.x,this.position.y,this.width,this.height)},t.prototype.update=function(t){this.position.x+=this.currentSpeed/t,this.position.x<0&&(this.position.x=0),this.position.x+this.width>this.game.width&&(this.position.x=this.game.width-this.width)},t.prototype.moveLeft=function(){this.currentSpeed=-this.maxSpeed},t.prototype.moveRight=function(){this.currentSpeed=this.maxSpeed},t.prototype.stop=function(){this.currentSpeed=0},t}(),B=n;c.default=B;var i={},p=!0;i.__esModule=p;var q=function(){return function(e){document.addEventListener("keydown",function(o){switch(o.keyCode){case 37:e.moveLeft();break;case 39:e.moveRight();}}),document.addEventListener("keyup",function(o){switch(o.keyCode){case 37:e.currentSpeed<0&&e.stop();break;case 39:e.currentSpeed>0&&e.stop();}})}}(),r=q;i.default=r;var d={},h=d&&d.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},u=!0;d.__esModule=u;var Q=h(e),w=h(c),x=h(i),y=function(){function t(t,e){this.width=600,this.height=300,this.spritesheets={},e&&(this.options=e),t&&document.getElementById(t)?this.canvas=document.getElementById(t):(this.canvas=document.createElement("canvas"),document.appendChild(this.canvas)),this.options&&(this.canvas.width=this.options.width,this.canvas.height=this.options.height),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.getBoundingClientRect().width,this.height=this.canvas.getBoundingClientRect().height}return t.prototype.loadSpritesheet=function(t){this.spritesheets[t.name]=t},t.prototype.start=function(){this.ball=new Q.default(this),this.paddle=new w.default(this),new x.default(this.paddle),this.gameObjects=[this.ball,this.paddle]},t.prototype.update=function(t){this.gameObjects.forEach(function(e){e.update(t)})},t.prototype.draw=function(){var t=this;this.gameObjects.forEach(function(e){e.draw(t.ctx)})},t}(),z=y;d.default=z;var g={},m=!0;g.__esModule=m;var C=function(){function e(e,t,r){var a=new Image;a.src=e,this.image=a,this.data=t,this.name=r}return e.prototype.getImage=function(e){for(var t in this.data)if(this.data.hasOwnProperty(t)){var r=this.data[t];if(r.name===e)return r}},e}(),D=C;g.default=D;var E={};E="/breakout.930fd9a9.png";var F={};F=[{name:"paddle",x:0,y:0,width:64,height:16},{name:"brick",x:0,y:17,width:32,height:16},{name:"heart",x:33,y:17,width:10,height:9},{name:"empty_heart",x:44,y:17,width:10,height:9},{name:"ball",x:0,y:33,width:8,height:8}];var b={},l=b&&b.__importDefault||function($){return $&&$.__esModule?$:{default:$}},j=b&&b.__importStar||function($){if($&&$.__esModule)return $;var e={};if(null!=$)for(var r in $)Object.hasOwnProperty.call($,r)&&(e[r]=$[r]);return e.default=$,e},J=!0;b.__esModule=J;var K=l(d),L=l(g),M=j(E),N=j(F);Math.__proto__.toRad=function($){return $*(Math.PI/180)},Math.__proto__.toDeg=function($){return $*(180/Math.PI)};var a=new K.default("game",{width:400,height:400});a.loadSpritesheet(new L.default(M.default,N,"main")),a.start();var P=0;function k($){var e=$-P;P=$,a.ctx.clearRect(0,0,a.width,a.height),a.update(e),a.draw(),requestAnimationFrame(k)}requestAnimationFrame(k);if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b}else if(typeof define==="function"&&define.amd){define(function(){return b})}})();